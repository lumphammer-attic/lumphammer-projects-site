@use "sass:color";

@import "open-props/style";
// @import "open-props/normalize";

@import "@picocss/pico/css/pico.min.css";

/* FONTS */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

/* INCLUDES */
@import "./backdrops.scss";
@import "./vt-gradients.scss";
@import "./footnote.scss";

a:visited {
	/*
	Firefox ballses up when you have a transition on `a:link` and also have styles
	for a:visited.
  https://bugzilla.mozilla.org/show_bug.cgi?id=1327801
	https://bugzilla.mozilla.org/show_bug.cgi?id=671237
	https://bugzilla.mozilla.org/show_bug.cgi?id=868975

	here's my minimal repro:
	https://codesandbox.io/s/firefox-visited-transition-chaos-vdd6b

	this is manifesting for me because I have both open-props/normalize (which
	defines `:visited` styles) and @picocss/pico (which adds a transition.)

	I have tried all of the below to "remove" the :visited style but you can't
	retroactively unset a rule, so the answer as of now is to redfine the :visited
	style using the same variable it uses.
	*/
	/* color: var(--pink-6); */
	/* color: currentcolor; */
	/* color: inherit; */
	/* color: initial; */
	/* color: revert; */
	/* color: unset;	 */
	color: var(--color);
}


:root {
	--font-family: 'VT323', monospace;
	--font-size: 30px;
	// height: 100%;
}


/* Pink Dark scheme (Forced) */
/* Enabled if forced with data-theme="dark" */
:root:not([data-theme="light"]) {  // --primary: #d81b60;
	@include vt-gradients;
  // --primary-hover: #e91e63;
  // --primary-focus: rgba(216, 27, 96, 0.25);
  // --primary-inverse: #FFF;
	--color: #73e9ad;
	// box-shadow: 0 0 3em 0em #000 inset;
}

// body {
// 	min-height: 100%;
// }

* {
	transition: color 300ms ease-in, background-color 300ms ease-in;
	text-shadow: 0 0 1em currentcolor;
}

h1, h2, h3, h4 {
	font-family: 'Press Start 2P', sans-serif;
	background-image: var(--gradient-30);
	background-clip: text;
	-webkit-background-clip: text;
	color: transparent;
	position: relative;
	word-wrap: break-word;
	&:after {
		word-wrap: break-word;
		white-space: normal;
		background: none;
		content: attr(data-text);
		left: 0;
		top: 0;
		right: 0;
		position: absolute;
		text-shadow: 
			0 0 1em #18d073
			, 0 0 0.5em #18d073
			, 0 0 0.25em #18d073
		;
		z-index: -1;
	}
}

@media (max-width: 480px) {
	h1, h2, h3, h4 {
		font-size: 1.5em;
	}
}